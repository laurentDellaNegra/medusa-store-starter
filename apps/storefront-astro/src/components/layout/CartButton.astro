---
import { css } from 'styled-system/css'
import CartDropdown from './CartDropdown.astro'

interface Props {
  countryCode: string
}

const { countryCode } = Astro.props
---

<div class={css({ position: 'relative' })} id="cart-button-wrapper">
  <button
    id="cart-toggle"
    class={css({
      display: 'flex',
      alignItems: 'center',
      gap: '2',
      color: 'fg.muted',
      cursor: 'pointer',
      bg: 'transparent',
      border: 'none',
      _hover: { color: 'fg.default' },
    })}
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/></svg>
    <span class={css({ fontSize: 'sm' })} id="cart-count">Cart (0)</span>
  </button>
  <CartDropdown countryCode={countryCode} />
</div>
